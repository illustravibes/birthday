let canvas=document.getElementById("fireworksCanvas"),ctx=canvas.getContext("2d"),fireworks=[];function resizeCanvas(){canvas.width=window.innerWidth,canvas.height=window.innerHeight}window.addEventListener("resize",resizeCanvas),resizeCanvas();class Particle{constructor(t,i,a,e,s){this.x=t,this.y=i,this.color=a,this.angle=e,this.speed=s,this.size=2*Math.random()+1,this.alpha=1,this.gravity=.02}update(){this.x+=Math.cos(this.angle)*this.speed,this.y+=Math.sin(this.angle)*this.speed,this.speed*=.98,this.alpha-=.015,this.speed-=this.gravity}draw(){ctx.globalAlpha=this.alpha,ctx.fillStyle=this.color,ctx.beginPath(),ctx.arc(this.x,this.y,this.size,0,2*Math.PI),ctx.fill(),ctx.globalAlpha=1}}class Firework{constructor(t,i,a=50){this.x=t,this.y=i,this.particles=[],this.colors=["#ff5733","#ffbd33","#33ff57","#3357ff","#f033ff"];for(let t=0;t<a;t++){let t=Math.random()*Math.PI*2,i=3*Math.random()+2,a=this.colors[Math.floor(Math.random()*this.colors.length)];this.particles.push(new Particle(this.x,this.y,a,t,i))}}update(){this.particles.forEach((t,i)=>{t.update(),t.alpha<=0&&this.particles.splice(i,1)})}draw(){this.particles.forEach(t=>t.draw())}}function animate(){ctx.clearRect(0,0,canvas.width,canvas.height),ctx.fillStyle="#fff",ctx.fillRect(0,0,canvas.width,canvas.height),fireworks.forEach((t,i)=>{t.update(),t.draw(),0===t.particles.length&&fireworks.splice(i,1)}),requestAnimationFrame(animate)}document.addEventListener("click",t=>{let i=canvas.getBoundingClientRect(),a=t.clientX-i.left,e=t.clientY-i.top;fireworks.push(new Firework(a,e,30))}),animate();